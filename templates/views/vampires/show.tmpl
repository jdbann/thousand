{{ template "base" . }}

{{ define "main" }}
  {{ with .Data.vampire }}
    <div id="details">
      {{ .Name }}
    </div>

    <div id="memories" class="stack">
      <h2>Memories</h2>

      {{ range .Memories }}
        <div id="memory-{{ .ID }}">
          <ul>
            {{ range .Experiences }}
              <li>{{ .Description }}</li>
            {{ end }}
            {{ if not .Full }}
              <li>
                <turbo-frame
                  id="memory-{{ .ID }}-newExperience"
                  data-controller="frame"
                  data-action="click@window->frame#restore"
                >
                  <a href="{{ $.Reverse "new-experience" .VampireID .ID }}">
                    New Experience
                  </a>
                </turbo-frame>
              </li>
            {{ end }}
          </ul>
        </div>
      {{ end }}
    </div>

    <div id="skills" class="stack">
      <h2>Skills</h2>

      <ul>
        {{ range .Skills }}
          <li>{{ .Description }}</li>
        {{ end }}
        <li>
          <turbo-frame
            id="newSkill"
            data-controller="frame"
            data-action="click@window->frame#restore"
          >
            <a href="{{ $.Reverse "new-skill" .ID }}">New Skill</a>
          </turbo-frame>
        </li>
      </ul>
    </div>
  {{ end }}
{{ end }}
